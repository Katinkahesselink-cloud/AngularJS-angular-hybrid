<div class="usr-add-user-modal w-100">
  <h2 mat-dialog-title class="d-flex align-items-center gap-2 mb-2">
    <mat-icon fontIcon="person_add"></mat-icon>
    {{ dialogTitle }}
  </h2>
  <mat-divider></mat-divider>
  <form class="d-grid gap-3 mt-3" (submit)="submit($event)">
    <mat-dialog-content>
      <p class="text-muted mb-3">
        Provide the required information to add a new user to the directory.
      </p>
      <div class="row">
        <div class="col-md-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>First name</mat-label>
            <input
              matInput
              [value]="firstName.value"
              autocomplete="given-name"
              (input)="onInput(firstName, $any($event.target).value)"
              (blur)="firstName.markAsTouched()"
            />
            @if (firstName.invalid && firstName.touched) {
              <mat-error>
                First name is required.
              </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="col-md-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Last name</mat-label>
            <input
              matInput
              [value]="lastName.value"
              autocomplete="family-name"
              (input)="onInput(lastName, $any($event.target).value)"
              (blur)="lastName.markAsTouched()"
            />
            @if (lastName.invalid && lastName.touched) {
              <mat-error>
                Last name is required.
              </mat-error>
            }
          </mat-form-field>
        </div>
      </div>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Email address</mat-label>
        <input
          matInput
          [value]="email.value"
          autocomplete="email"
          type="email"
          (input)="onInput(email, $any($event.target).value)"
          (blur)="email.markAsTouched()"
        />
        @if (email.invalid && email.touched) {
          <mat-error>
            Enter a valid email address.
          </mat-error>
        }
      </mat-form-field>
    </mat-dialog-content>
    <mat-dialog-actions align="end">
      <button mat-button type="button" (click)="cancel()">Cancel</button>
      <button
        mat-flat-button
        color="primary"
        type="submit"
        [disabled]="addUserForm.invalid || isSubmitting()"
      >
        Save user
      </button>
    </mat-dialog-actions>
  </form>
</div>
